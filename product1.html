<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>صفحه محصول</title>
  <link rel="stylesheet" href="style.css"> <!-- اتصال به فایل استایل -->
  <!-- لینک FontAwesome برای آیکون‌ها -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
  <style>
    /* استایل برای دکمه نمایش توضیحات */
    .product-details {
      display: none;
      margin-top: 10px;
    }
    .show-details-btn {
      background-color: #7b1fa2;
      color: #fff;
      padding: 8px 16px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    .show-details-btn:hover {
      background-color: #4a0072;
    }
  </style>
</head>
<body class="product-page">
  <div class="product-container">
    <!-- سمت چپ (قیمت و دکمه افزودن به سبد خرید) -->
    <div class="product-left">
        <h1>تی‌شرت برند مشکی</h1>
        <p class="price">قیمت: 189,000 تومان</p>
      
        <!-- فیلد تعداد با دکمه‌های افزایش و کاهش -->
        <div class="quantity-control">
          <button class="quantity-btn decrease">-</button>
          <input type="number" class="quantity-input" value="1" min="1" />
          <button class="quantity-btn increase">+</button>
        </div>
      
        <button class="add-to-cart">افزودن به سبد خرید</button>
        
        <!-- دکمه‌های واتساپ و تلگرام -->
        <div class="social-buttons">
          <a href="https://wa.me/989175473269" target="_blank" class="whatsapp-button">
            <i class="fab fa-whatsapp"></i> واتساپ
          </a>
          <a href="https://t.me/yourusername" target="_blank" class="telegram-button">
            <i class="fab fa-telegram-plane"></i> تلگرام
          </a>
        </div>
    </div>

    <!-- سمت راست (تصویر و توضیحات محصول) -->
    <div class="product-right">
      <img src="tshirt-black.png" alt="تی‌شرت برند مشکی">
      <div class="product-details">
        <p><strong>رنگ‌ها:</strong> مشکی, آبی, سفید, قهوه‌ای</p>
        <p><strong>سایزها:</strong> S, M, L, XL</p>
        <p><strong>توضیحات:</strong> این تی‌شرت برای استفاده روزانه مناسب است و دارای طراحی مدرن می‌باشد.</p>
        <p><strong>گارانتی:</strong> گارانتی 6 ماهه</p>
      </div>
      <button class="show-details-btn" onclick="toggleDetails()">توضیحات محصول</button>
    </div>
  </div>

  <script>
    // تغییرات برای دکمه‌های کم و زیاد کردن تعداد
    document.querySelector('.increase').addEventListener('click', function() {
      let quantityInput = document.querySelector('.quantity-input');
      quantityInput.value = parseInt(quantityInput.value) + 1;
    });

    document.querySelector('.decrease').addEventListener('click', function() {
      let quantityInput = document.querySelector('.quantity-input');
      if (parseInt(quantityInput.value) > 1) {
        quantityInput.value = parseInt(quantityInput.value) - 1;
      }
    });

    // ارسال به صفحه سبد خرید و سپس بازگشت به صفحه اصلی
    document.querySelector('.increase').addEventListener('click', function() {
    let quantityInput = document.querySelector('.quantity-input');
    quantityInput.value = parseInt(quantityInput.value) + 1;
  });

  document.querySelector('.decrease').addEventListener('click', function() {
    let quantityInput = document.querySelector('.quantity-input');
    if (parseInt(quantityInput.value) > 1) {
      quantityInput.value = parseInt(quantityInput.value) - 1;
    }
  });

  // ارسال به صفحه سبد خرید و سپس بازگشت به صفحه اصلی
  document.querySelector('.add-to-cart').addEventListener('click', function() {
    // دریافت اطلاعات محصول
    const quantity = document.querySelector('.quantity-input').value;
    const product = {
      id: 1, // ID محصول باید به صورت داینامیک باشد
      name: 'تی‌شرت برند مشکی',
      price: 189000,
      quantity: quantity
    };

    // دریافت سبد خرید از localStorage
    let cart = JSON.parse(localStorage.getItem('cart')) || [];

    // بررسی وجود محصول در سبد خرید و اضافه کردن یا بروزرسانی آن
    const existingProductIndex = cart.findIndex(item => item.id === product.id);
    if (existingProductIndex !== -1) {
      // اگر محصول قبلاً در سبد خرید باشد، تعداد آن را بروزرسانی کن
      cart[existingProductIndex].quantity = parseInt(cart[existingProductIndex].quantity) + parseInt(quantity);
    } else {
      // در غیر این صورت، محصول را به سبد خرید اضافه کن
      cart.push(product);
    }

    // ذخیره‌سازی سبد خرید در localStorage
    localStorage.setItem('cart', JSON.stringify(cart));

    // هدایت به صفحه اصلی
    window.location.href = './pargh.html'; // به صفحه اصلی هدایت می‌شود
  });

  // ارسال به صفحه سبد خرید و سپس بازگشت به صفحه اصلی
  document.querySelector('.add-to-cart').addEventListener('click', function() {
    // دریافت اطلاعات محصول
    const quantity = document.querySelector('.quantity-input').value;
    const product = {
      id: 1, // ID محصول باید به صورت داینامیک باشد
      name: 'تی‌شرت برند مشکی',
      price: 189000,
      quantity: quantity
    };

    // دریافت سبد خرید از localStorage
    let cart = JSON.parse(localStorage.getItem('cart')) || [];

    // بررسی وجود محصول در سبد خرید و اضافه کردن یا بروزرسانی آن
    const existingProductIndex = cart.findIndex(item => item.id === product.id);
    if (existingProductIndex !== -1) {
      // اگر محصول قبلاً در سبد خرید باشد، تعداد آن را بروزرسانی کن
      cart[existingProductIndex].quantity = parseInt(cart[existingProductIndex].quantity) + parseInt(quantity);
    } else {
      // در غیر این صورت، محصول را به سبد خرید اضافه کن
      cart.push(product);
    }

    // ذخیره‌سازی سبد خرید در localStorage
    localStorage.setItem('cart', JSON.stringify(cart));

    // هدایت به صفحه اصلی
    window.location.href = './pargh.html'; // به صفحه اصلی هدایت می‌شود
  });
    // توابع نمایش و پنهان کردن توضیحات محصول
    function toggleDetails() {
      const details = document.querySelector('.product-details');
      const btn = document.querySelector('.show-details-btn');
      if (details.style.display === 'none' || details.style.display === '') {
        details.style.display = 'block';
        btn.textContent = 'پنهان کردن توضیحات';
      } else {
        details.style.display = 'none';
        btn.textContent = 'توضیحات محصول';
      }
    }
  </script>
</body>
</html>